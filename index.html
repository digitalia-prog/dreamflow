<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DreamFlow Pro ‚Äì Plateforme d‚ÄôAgence IA</title>

  <style>
    :root {
      --bg: #050312;
      --bg-soft: #0c0720;
      --accent: #7c3aed;
      --accent-soft: rgba(124, 58, 237, 0.15);
      --accent-strong: #a855f7;
      --card: #0f1024;
      --border: rgba(255, 255, 255, 0.06);
      --text-main: #f9fafb;
      --text-soft: #9ca3af;
      --danger: #ef4444;
      --success: #22c55e;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1e1032 0, #050312 40%);
      color: var(--text-main);
      min-height: 100vh;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .hidden {
      display: none !important;
    }

    /* HEADER GLOBAL (landing + dashboard) */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: rgba(5, 3, 18, 0.92);
      backdrop-filter: blur(18px);
      border-bottom: 1px solid var(--border);
      padding: 14px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    header .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    header .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: conic-gradient(
        from 210deg,
        #f97316,
        #ec4899,
        #6366f1,
        #22c55e,
        #f97316
      );
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      color: #fff;
    }

    header .logo-text {
      display: flex;
      flex-direction: column;
    }

    header .logo-text span:first-child {
      font-weight: 700;
      font-size: 1.1rem;
    }

    header .logo-text span:last-child {
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    header nav {
      display: flex;
      align-items: center;
      gap: 24px;
      font-size: 0.92rem;
      color: var(--text-soft);
    }

    header nav a {
      position: relative;
      padding-bottom: 4px;
    }

    header nav a:hover::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, #818cf8, #a855f7);
      border-radius: 999px;
    }

    .btn {
      border: none;
      cursor: pointer;
      font-weight: 600;
      border-radius: 999px;
      padding: 9px 18px;
      font-size: 0.9rem;
      background: transparent;
      color: var(--text-main);
      border: 1px solid var(--border);
      transition: 0.2s ease;
    }

    .btn-primary {
      background: linear-gradient(120deg, #6366f1, #a855f7);
      border: none;
      box-shadow: 0 0 25px rgba(129, 140, 248, 0.4);
    }

    .btn-primary:hover {
      filter: brightness(1.1);
      transform: translateY(-1px);
    }

    .btn-ghost:hover {
      background: rgba(255, 255, 255, 0.03);
      border-color: rgba(255, 255, 255, 0.12);
    }

    /* LAYOUT LANDING */
    .section-landing {
      padding: 80px 40px 60px;
      max-width: 1120px;
      margin: 0 auto;
    }

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
      gap: 40px;
      align-items: center;
      margin-bottom: 70px;
    }

    .hero-left h1 {
      font-size: 2.9rem;
      line-height: 1.1;
      margin-bottom: 18px;
    }

    .hero-gradient {
      background: linear-gradient(120deg, #f97316, #e879f9, #6366f1);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-left p {
      color: var(--text-soft);
      font-size: 1rem;
      max-width: 420px;
      margin-bottom: 24px;
    }

    .hero-tags {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 26px;
    }

    .tag {
      font-size: 0.75rem;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.5);
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.6);
    }

    .hero-cta {
      display: flex;
      gap: 14px;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 20px;
    }

    .hero-note {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--text-soft);
      font-size: 0.8rem;
    }

    .hero-right {
      background: radial-gradient(circle at top, #4f46e5, transparent 60%);
      border-radius: 24px;
      padding: 20px;
      border: 1px solid rgba(129, 140, 248, 0.4);
      box-shadow: 0 10px 40px rgba(15, 23, 42, 0.8);
    }

    .mini-widget {
      background: rgba(15, 23, 42, 0.95);
      border-radius: 18px;
      padding: 16px 18px;
      margin-bottom: 14px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
    }

    .mini-widget strong {
      font-size: 0.95rem;
    }

    .mini-widget span {
      color: var(--text-soft);
    }

    .mini-badges {
      display: flex;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
      font-size: 0.75rem;
    }

    .badge-soft {
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(79, 70, 229, 0.18);
      color: #c7d2fe;
    }

    /* GRID FONCTIONNALIT√âS */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 20px;
      margin-top: 12px;
    }

    .feature-card {
      background: linear-gradient(
        145deg,
        rgba(15, 23, 42, 0.95),
        rgba(17, 24, 39, 0.95)
      );
      border-radius: 18px;
      padding: 18px 18px 20px;
      border: 1px solid var(--border);
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.8);
      position: relative;
      overflow: hidden;
    }

    .feature-card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(
        circle at top left,
        rgba(124, 58, 237, 0.25),
        transparent 55%
      );
      opacity: 0;
      transition: opacity 0.25s ease;
    }

    .feature-card:hover::before {
      opacity: 1;
    }

    .feature-title {
      font-size: 0.95rem;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .feature-pill {
      font-size: 0.7rem;
      color: var(--text-soft);
      margin-bottom: 8px;
    }

    .feature-text {
      font-size: 0.85rem;
      color: var(--text-soft);
      line-height: 1.4;
    }

    /* AUTH MODAL */
    .auth-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.82);
      backdrop-filter: blur(18px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }

    .auth-card {
      width: 100%;
      max-width: 420px;
      background: #020617;
      border-radius: 18px;
      padding: 28px 26px 24px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
    }

    .auth-card h2 {
      margin-bottom: 4px;
      font-size: 1.4rem;
    }

    .auth-sub {
      font-size: 0.82rem;
      color: var(--text-soft);
      margin-bottom: 18px;
    }

    .auth-toggle {
      display: flex;
      gap: 8px;
      background: rgba(15, 23, 42, 0.9);
      padding: 4px;
      border-radius: 999px;
      margin-bottom: 18px;
    }

    .auth-toggle button {
      flex: 1;
      font-size: 0.8rem;
      padding: 7px 0;
      border-radius: 999px;
      border: none;
      cursor: pointer;
      background: transparent;
      color: var(--text-soft);
      transition: 0.2s;
    }

    .auth-toggle button.active {
      background: linear-gradient(120deg, #6366f1, #a855f7);
      color: white;
      box-shadow: 0 0 16px rgba(129, 140, 248, 0.45);
    }

    .field {
      text-align: left;
      margin-bottom: 12px;
      font-size: 0.85rem;
    }

    .field label {
      display: block;
      margin-bottom: 4px;
      color: var(--text-soft);
    }

    .field input {
      width: 100%;
      padding: 9px 11px;
      border-radius: 9px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      background: #020617;
      color: var(--text-main);
      outline: none;
      font-size: 0.9rem;
    }

    .field input:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.8);
    }

    .auth-error {
      font-size: 0.78rem;
      color: var(--danger);
      margin-top: 4px;
      min-height: 16px;
    }

    .auth-footer {
      margin-top: 18px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: var(--text-soft);
    }

    .auth-footer button {
      font-size: 0.8rem;
    }

    /* DASHBOARD LAYOUT */
    .dashboard-root {
      display: grid;
      grid-template-columns: 230px minmax(0, 1fr);
      min-height: calc(100vh - 64px);
      background: radial-gradient(circle at top left, #111827, #020617 45%);
    }

    .sidebar {
      border-right: 1px solid var(--border);
      padding: 18px 14px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      background: #020617;
    }

    .sidebar-section-title {
      text-transform: uppercase;
      font-size: 0.68rem;
      color: #6b7280;
      letter-spacing: 0.08em;
      margin-bottom: 6px;
      padding-left: 8px;
    }

    .nav-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .nav-item {
      border-radius: 999px;
      padding: 8px 11px;
      font-size: 0.85rem;
      color: var(--text-soft);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border: 1px solid transparent;
      transition: 0.2s;
    }

    .nav-item span.label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .nav-item span.dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #4b5563;
    }

    .nav-item.active {
      background: linear-gradient(120deg, #4f46e5, #a855f7);
      color: white;
      border-color: transparent;
      box-shadow: 0 0 18px rgba(129, 140, 248, 0.5);
    }

    .nav-item.active span.dot {
      background: #bbf7d0;
    }

    .sidebar-bottom {
      margin-top: auto;
      border-top: 1px dashed rgba(75, 85, 99, 0.7);
      padding-top: 12px;
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .sidebar-bottom strong {
      color: var(--accent-strong);
    }

    /* MAIN DASHBOARD */
    .dash-main {
      padding: 18px 24px 26px;
    }

    .dash-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
    }

    .dash-header-left h2 {
      font-size: 1.4rem;
      margin-bottom: 3px;
    }

    .dash-header-left p {
      font-size: 0.82rem;
      color: var(--text-soft);
    }

    .dash-user-pill {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.82rem;
      background: rgba(15, 23, 42, 0.9);
      padding: 7px 11px;
      border-radius: 999px;
      border: 1px solid var(--border);
    }

    .user-avatar {
      width: 24px;
      height: 24px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ec4899, #6366f1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
      color: white;
    }

    .dash-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);
      gap: 18px;
    }

    .panel {
      background: rgba(15, 23, 42, 0.96);
      border-radius: 18px;
      padding: 16px 16px 14px;
      border: 1px solid var(--border);
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.7);
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .panel-title {
      font-size: 0.95rem;
      font-weight: 600;
    }

    .panel-sub {
      font-size: 0.75rem;
      color: var(--text-soft);
    }

    .pill-soft {
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      font-size: 0.72rem;
      color: var(--text-soft);
    }

    .grid-cols-3 {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 6px;
      margin-top: 8px;
      margin-bottom: 8px;
    }

    .stat-card {
      background: rgba(15, 23, 42, 0.98);
      border-radius: 12px;
      padding: 8px 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.78rem;
    }

    .stat-label {
      color: var(--text-soft);
      margin-bottom: 2px;
    }

    .stat-value {
      font-weight: 600;
      font-size: 0.9rem;
    }

    .stat-chip {
      margin-top: 2px;
      font-size: 0.72rem;
      color: #a5b4fc;
    }

    /* FORM GENERATOR */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .form-field {
      font-size: 0.8rem;
    }

    .form-field label {
      display: block;
      margin-bottom: 3px;
      color: var(--text-soft);
    }

    select,
    input[type="text"],
    input[type="number"],
    textarea {
      width: 100%;
      background: #020617;
      border-radius: 10px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      color: var(--text-main);
      padding: 8px 9px;
      font-size: 0.85rem;
      outline: none;
      resize: vertical;
      min-height: 34px;
    }

    select:focus,
    input:focus,
    textarea:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 1px rgba(129, 140, 248, 0.7);
    }

    textarea {
      min-height: 70px;
    }

    .generator-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .scripts-list {
      margin-top: 10px;
      max-height: 240px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .script-item {
      border-radius: 12px;
      padding: 9px 10px;
      border: 1px solid rgba(55, 65, 81, 0.85);
      background: rgba(15, 23, 42, 0.92);
      margin-bottom: 8px;
      font-size: 0.8rem;
    }

    .script-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
      color: var(--text-soft);
    }

    .badge-network {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      font-size: 0.7rem;
    }

    .badge-score {
      font-size: 0.7rem;
      color: #bbf7d0;
    }

    .script-content {
      line-height: 1.4;
    }

    /* RIGHT PANEL */
    .trend-list {
      margin-top: 10px;
      display: grid;
      gap: 7px;
    }

    .trend-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 7px 9px;
      border-radius: 10px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(55, 65, 81, 0.9);
      font-size: 0.8rem;
    }

    .trend-name {
      font-weight: 500;
    }

    .trend-badge {
      font-size: 0.7rem;
      color: var(--text-soft);
    }

    .history-list {
      margin-top: 10px;
      display: grid;
      gap: 6px;
      font-size: 0.79rem;
    }

    .history-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 8px;
      border-radius: 9px;
      background: rgba(15, 23, 42, 0.96);
      border: 1px dashed rgba(75, 85, 99, 0.9);
    }

    .pill-success {
      color: #bbf7d0;
    }

    .pill-warn {
      color: #fed7aa;
    }

    /* RESPONSIVE */
    @media (max-width: 960px) {
      header {
        padding-inline: 18px;
      }
      .hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .dashboard-root {
        grid-template-columns: 1fr;
      }
      .sidebar {
        display: none;
      }
      .dash-main {
        padding-inline: 16px;
      }
      .dash-grid {
        grid-template-columns: minmax(0, 1fr);
      }
      .section-landing {
        padding-inline: 18px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="logo">
    <div class="logo-mark">DF</div>
    <div class="logo-text">
      <span>DreamFlow Pro</span>
      <span>Agence & Cr√©ateurs ‚Ä¢ IA</span>
    </div>
  </div>
  <nav>
    <a href="#hero">Accueil</a>
    <a href="#features">Fonctionnalit√©s</a>
    <a href="#tarifs">Tarifs</a>
    <button class="btn btn-ghost" id="btn-open-login">Connexion</button>
  </nav>
</header>

<!-- LANDING -->
<main id="landing" class="section-landing">
  <section id="hero" class="hero">
    <div class="hero-left">
      <div class="hero-tags">
        <span class="tag">‚ú® Plateforme d‚Äôagence IA</span>
        <span class="tag">üöÄ Optimis√©e pour TikTok / Reels</span>
      </div>
      <h1>
        L‚Äôoutil <span class="hero-gradient">ultime</span> pour les agences
        et cr√©ateurs.
      </h1>
      <p>
        Centralise tes clients, g√©n√®re des scripts viraux et prouve ton ROI
        avec des analytics clairs, sans perdre des heures dans Notion & Excel.
      </p>
      <div class="hero-cta">
        <button class="btn btn-primary" id="cta-demo">
          Acc√©der √† la plateforme
        </button>
        <button class="btn btn-ghost" id="cta-login">
          Se connecter
        </button>
      </div>
      <div class="hero-note">
        <span>‚úÖ</span>
        <span>Compte d√©mo instantan√©, aucune carte bancaire requise.</span>
      </div>
    </div>

    <div class="hero-right">
      <div class="mini-widget">
        <div>
          <strong>Performance des campagnes</strong>
          <div class="mini-badges">
            <span class="badge-soft">+184% vues short-form</span>
            <span class="badge-soft">Temps gagn√© : 7h / client / mois</span>
          </div>
        </div>
        <div>
          <div style="font-size:0.8rem; color:#a5b4fc;">Temps r√©el</div>
          <div style="font-size:1.1rem; font-weight:700;">‚ö° Live</div>
        </div>
      </div>

      <div class="features-grid" id="features">
        <div class="feature-card">
          <div class="feature-title">Scripts IA Premium</div>
          <div class="feature-pill">TikTok, Reels, Shorts, YouTube</div>
          <p class="feature-text">
            G√©n√©re des hooks, scripts, CTA et variantes en un clic, calibr√©s
            pour chaque niche et plateforme.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-title">Console d‚ÄôAgence</div>
          <div class="feature-pill">Multi-clients ‚Ä¢ Multi-marques</div>
          <p class="feature-text">
            S√©pare facilement tes comptes clients, ajoute leurs tones,
            offres et objectifs. Chaque client a son espace.
          </p>
        </div>
        <div class="feature-card">
          <div class="feature-title">Analytics viraux</div>
          <div class="feature-pill">Vue 360¬∞ contenu</div>
          <p class="feature-text">
            Identifie les posts qui explosent, la fr√©quence id√©ale et les
            formats qui convertissent le mieux.
          </p>
        </div>
        <div class="feature-card" id="tarifs">
          <div class="feature-title">Pr√™t pour scaler</div>
          <div class="feature-pill">Freelance ‚Üí Agence</div>
          <p class="feature-text">
            Passe de 3 √† 30 clients avec des process standardis√©s, export PDF
            et reporting mensuel en un clic.
          </p>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- DASHBOARD -->
<section id="dashboard-root" class="dashboard-root hidden">
  <aside class="sidebar">
    <div>
      <div class="sidebar-section-title">Navigation</div>
      <ul class="nav-list">
        <li class="nav-item active">
          <span class="label">
            <span class="dot"></span> Dashboard
          </span>
          <span>‚Ä¢</span>
        </li>
        <li class="nav-item">
          <span class="label">
            <span class="dot"></span> G√©n√©rateur
          </span>
          <span>‚Üª</span>
        </li>
        <li class="nav-item">
          <span class="label">
            <span class="dot"></span> Clients & Marques
          </span>
          <span>‚ãØ</span>
        </li>
        <li class="nav-item">
          <span class="label">
            <span class="dot"></span> Analytics
          </span>
          <span>üìä</span>
        </li>
      </ul>
    </div>

    <div class="sidebar-bottom">
      <div>Plan actuel : <strong>Agence Growth</strong></div>
      <div>Utilisateurs : 1 / 3 ‚Ä¢ Marques : <span id="sidebar-brands">1</span></div>
    </div>
  </aside>

  <main class="dash-main">
    <div class="dash-header">
      <div class="dash-header-left">
        <h2>Console DreamFlow</h2>
        <p id="dash-subtitle">
          Vue d‚Äôensemble de tes scripts, clients et performances.
        </p>
      </div>
      <div class="dash-header-right">
        <div class="dash-user-pill">
          <div class="user-avatar" id="user-avatar">DF</div>
          <div>
            <div id="user-email">demo@dreamflow.app</div>
            <div style="font-size:0.72rem; color:var(--text-soft);">
              Agence IA ‚Ä¢ Owner
            </div>
          </div>
          <button class="btn btn-ghost" id="btn-logout" style="margin-left:8px;">
            D√©connexion
          </button>
        </div>
      </div>
    </div>

    <div class="dash-grid">
      <!-- G√©n√©rateur -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">G√©n√©rateur de scripts</div>
            <div class="panel-sub">
              Configure ton r√©seau, ta niche et laisse l‚ÄôIA faire le reste.
            </div>
          </div>
          <div class="pill-soft" id="brand-pill">Client : Studio D√©mo</div>
        </div>

        <div class="grid-cols-3">
          <div class="stat-card">
            <div class="stat-label">Scripts g√©n√©r√©s</div>
            <div class="stat-value" id="stat-total-scripts">12</div>
            <div class="stat-chip">Cette semaine</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Vues estim√©es</div>
            <div class="stat-value" id="stat-views">184k</div>
            <div class="stat-chip">Pr√©vision IA</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Taux viral</div>
            <div class="stat-value" id="stat-viral">27%</div>
            <div class="stat-chip">Top 10% niche</div>
          </div>
        </div>

        <form id="generator-form">
          <div class="form-grid">
            <div class="form-field">
              <label for="network">R√©seau</label>
              <select id="network">
                <option value="TikTok">TikTok</option>
                <option value="Instagram Reels">Instagram Reels</option>
                <option value="YouTube Shorts">YouTube Shorts</option>
                <option value="Facebook Reels">Facebook Reels</option>
              </select>
            </div>
            <div class="form-field">
              <label for="language">Langue</label>
              <select id="language">
                <option value="fr">Fran√ßais</option>
                <option value="en">Anglais</option>
              </select>
            </div>
            <div class="form-field">
              <label for="niche">Niche / Offre</label>
              <input
                id="niche"
                type="text"
                placeholder="Ex : Agence UGC pour e-commerce beaut√©"
              />
            </div>
            <div class="form-field">
              <label for="count">Nombre de scripts</label>
              <input id="count" type="number" min="1" max="10" value="3" />
            </div>
          </div>

          <div class="form-field">
            <label for="angle">Angle / objectif</label>
            <textarea
              id="angle"
              placeholder="Ex : g√©n√©rer des leads qualifi√©s pour des boutiques Shopify en montrant des avant/apr√®s, social proof et codes promo limit√©s."
            ></textarea>
          </div>

          <div class="generator-footer">
            <div id="gen-status">Pr√™t √† g√©n√©rer ‚ú®</div>
            <button type="submit" class="btn btn-primary">
              üöÄ G√©n√©rer les scripts
            </button>
          </div>
        </form>

        <div class="scripts-list" id="scripts-list"></div>
      </section>

      <!-- Analytics & historique -->
      <section class="panel">
        <div class="panel-header">
          <div>
            <div class="panel-title">Tendances & Historique</div>
            <div class="panel-sub">
              Comprends ce qui performe vraiment pour ton client.
            </div>
          </div>
        </div>

        <div class="trend-list">
          <div class="trend-item">
            <div>
              <div class="trend-name">TikTok ‚Äì UGC produits beaut√©</div>
              <div class="trend-badge">Hook √©motionnel + d√©monstration rapide</div>
            </div>
            <div class="pill-success">+142% vues</div>
          </div>
          <div class="trend-item">
            <div>
              <div class="trend-name">Reels ‚Äì Avant / Apr√®s</div>
              <div class="trend-badge">Transitions rapides, texte fort</div>
            </div>
            <div class="pill-success">+96% sauvegardes</div>
          </div>
          <div class="trend-item">
            <div>
              <div class="trend-name">Shorts ‚Äì storytelling</div>
              <div class="trend-badge">Founder story, transparence</div>
            </div>
            <div class="pill-warn">+63% watchtime</div>
          </div>
        </div>

        <div style="margin-top:14px; border-top:1px dashed var(--border); padding-top:10px;">
          <div class="panel-header">
            <div class="panel-title">Derniers scripts g√©n√©r√©s</div>
            <div class="panel-sub">Synchronis√© avec DreamFlow API</div>
          </div>
          <div class="history-list" id="history-list">
            <!-- rempli c√¥t√© client -->
          </div>
        </div>
      </section>
    </div>
  </main>
</section>

<!-- AUTH MODAL -->
<div id="auth-modal" class="auth-backdrop hidden">
  <div class="auth-card">
    <h2 id="auth-title">Connexion</h2>
    <div class="auth-sub" id="auth-sub">
      Connecte-toi pour acc√©der √† ton espace DreamFlow.
    </div>

    <div class="auth-toggle">
      <button id="tab-login" class="active">Connexion</button>
      <button id="tab-register">Cr√©er un compte</button>
    </div>

    <div class="field">
      <label for="auth-email">Email professionnel</label>
      <input id="auth-email" type="email" placeholder="you@agency.com" />
    </div>
    <div class="field">
      <label for="auth-password">Mot de passe</label>
      <input id="auth-password" type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />
    </div>

    <div class="auth-error" id="auth-error"></div>

    <div style="margin-top:10px;">
      <button class="btn btn-primary" style="width:100%;" id="auth-submit">
        Continuer
      </button>
    </div>

    <div class="auth-footer">
      <span id="auth-hint">Acc√®s instantan√© √† ton dashboard.</span>
      <button class="btn btn-ghost" id="auth-close">Fermer</button>
    </div>
  </div>
</div>

<script>
  const landingEl = document.getElementById("landing");
  const dashboardRoot = document.getElementById("dashboard-root");
  const authModal = document.getElementById("auth-modal");
  const btnOpenLogin = document.getElementById("btn-open-login");
  const ctaDemo = document.getElementById("cta-demo");
  const ctaLogin = document.getElementById("cta-login");
  const authClose = document.getElementById("auth-close");
  const authSubmit = document.getElementById("auth-submit");
  const authEmail = document.getElementById("auth-email");
  const authPassword = document.getElementById("auth-password");
  const authError = document.getElementById("auth-error");
  const tabLogin = document.getElementById("tab-login");
  const tabRegister = document.getElementById("tab-register");
  const authTitle = document.getElementById("auth-title");
  const authSub = document.getElementById("auth-sub");
  const authHint = document.getElementById("auth-hint");
  const userEmailEl = document.getElementById("user-email");
  const userAvatar = document.getElementById("user-avatar");
  const btnLogout = document.getElementById("btn-logout");
  const sidebarBrands = document.getElementById("sidebar-brands");
  const genForm = document.getElementById("generator-form");
  const scriptsList = document.getElementById("scripts-list");
  const historyList = document.getElementById("history-list");
  const genStatus = document.getElementById("gen-status");

  let authMode = "login";
  let currentUser = null;
  let currentBrandId = "demo-brand-1";
  let totalScripts = 0;

  function setAuthMode(mode) {
    authMode = mode;
    if (mode === "login") {
      tabLogin.classList.add("active");
      tabRegister.classList.remove("active");
      authTitle.textContent = "Connexion";
      authSub.textContent = "Connecte-toi pour acc√©der √† ton dashboard.";
      authHint.textContent = "Mot de passe minimum 6 caract√®res.";
    } else {
      tabRegister.classList.add("active");
      tabLogin.classList.remove("active");
      authTitle.textContent = "Cr√©er un compte";
      authSub.textContent =
        "Cr√©e ton espace d‚Äôagence, tu peux ajouter tes clients ensuite.";
      authHint.textContent = "Tu peux utiliser ton email perso, pas grave.";
    }
    authError.textContent = "";
  }

  tabLogin.addEventListener("click", () => setAuthMode("login"));
  tabRegister.addEventListener("click", () => setAuthMode("register"));

  function openAuthModal() {
    authModal.classList.remove("hidden");
    authEmail.focus();
  }

  function closeAuthModal() {
    authModal.classList.add("hidden");
    authError.textContent = "";
  }

  [btnOpenLogin, ctaLogin].forEach((btn) =>
    btn.addEventListener("click", openAuthModal)
  );
  authClose.addEventListener("click", closeAuthModal);

  ctaDemo.addEventListener("click", () => {
    currentUser = { email: "demo@dreamflow.app" };
    persistUser();
    showDashboard();
  });

  function persistUser() {
    if (currentUser) {
      localStorage.setItem("dreamflow_user", JSON.stringify(currentUser));
    } else {
      localStorage.removeItem("dreamflow_user");
    }
  }

  function loadUserFromStorage() {
    try {
      const raw = localStorage.getItem("dreamflow_user");
      if (!raw) return;
      currentUser = JSON.parse(raw);
      if (currentUser && currentUser.email) {
        showDashboard(true);
      }
    } catch (_) {}
  }

  function updateUserUI() {
    if (!currentUser) return;
    userEmailEl.textContent = currentUser.email;
    const initial = currentUser.email.charAt(0).toUpperCase();
    userAvatar.textContent = initial || "DF";
  }

  function showDashboard(isAuto = false) {
    landingEl.classList.add("hidden");
    dashboardRoot.classList.remove("hidden");
    authModal.classList.add("hidden");
    updateUserUI();
    sidebarBrands.textContent = "1";
    if (!isAuto) {
      genStatus.textContent = "Pr√™t √† g√©n√©rer ‚ú®";
    }
    fetchHistory();
  }

  btnLogout.addEventListener("click", () => {
    currentUser = null;
    persistUser();
    dashboardRoot.classList.add("hidden");
    landingEl.classList.remove("hidden");
  });

  authSubmit.addEventListener("click", async () => {
    const email = authEmail.value.trim();
    const pwd = authPassword.value.trim();

    if (!email || !pwd) {
      authError.textContent = "Email et mot de passe requis.";
      return;
    }
    if (pwd.length < 6) {
      authError.textContent = "Mot de passe trop court (min 6 caract√®res).";
      return;
    }

    if (authMode === "register") {
      currentUser = { email };
      persistUser();
      showDashboard();
    } else {
      currentUser = { email };
      persistUser();
      showDashboard();
    }
  });

  // G√©n√©ration de scripts via l‚ÄôAPI du backend
  genForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const network = document.getElementById("network").value;
    const niche = document.getElementById("niche").value || "contenu agence";
    const count = parseInt(document.getElementById("count").value || "1", 10);

    genStatus.textContent = "G√©n√©ration en cours‚Ä¶ ‚öôÔ∏è";

    try {
      const res = await fetch("/api/generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          brandId: currentBrandId,
          network,
          niche,
          count,
        }),
      });

      if (!res.ok) throw new Error("Erreur API");
      const data = await res.json();
      if (!data.success) throw new Error("R√©ponse invalide");

      renderScripts(data.scripts || []);
      totalScripts += (data.scripts || []).length;
      document.getElementById("stat-total-scripts").textContent = totalScripts;
      genStatus.textContent = "Scripts g√©n√©r√©s ‚úÖ";
      fetchHistory();
    } catch (err) {
      console.error(err);
      genStatus.textContent =
        "Impossible de g√©n√©rer les scripts pour le moment.";
    }
  });

  function renderScripts(scripts) {
    if (!scripts.length) return;
    scriptsList.innerHTML = "";
    scripts.forEach((s) => {
      const el = document.createElement("div");
      el.className = "script-item";
      el.innerHTML = `
        <div class="script-meta">
          <span class="badge-network">${s.network || "R√©seau"}</span>
          <span class="badge-score">Score viral : ${s.score || 72}%</span>
        </div>
        <div class="script-content">${s.content || s.script}</div>
      `;
      scriptsList.appendChild(el);
    });
  }

  async function fetchHistory() {
    try {
      const res = await fetch("/api/brand/" + currentBrandId + "/history");
      if (!res.ok) return;
      const data = await res.json();
      const history = data.history || [];
      historyList.innerHTML = "";
      history.slice(-5).reverse().forEach((h) => {
        const row = document.createElement("div");
        row.className = "history-row";
        row.innerHTML = `
          <span>${h.network || "R√©seau"} ‚Ä¢ ${h.niche || "niche"}</span>
          <span>${h.views || 0} vues ‚Ä¢ ${h.score || 0}%</span>
        `;
        historyList.appendChild(row);
      });
    } catch (e) {
      console.error(e);
    }
  }

  loadUserFromStorage();
</script>
</body>
</html>
