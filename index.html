<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>âš¡ DreamFlow</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:linear-gradient(135deg,#050505,#1a003d);color:#fff;font-family:Arial,sans-serif;min-height:100vh}
#auth{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}
.box{background:rgba(0,0,0,.7);padding:2rem;border-radius:15px;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,.3)}
.box h1{margin-bottom:1.5rem;font-size:2.5rem}
.box input{width:100%;padding:12px;margin:10px 0;border:2px solid #8F63E9;border-radius:8px;background:rgba(0,0,0,.5);color:#fff;font-weight:bold}
.box input::placeholder{color:#b0b0b0}
.btn{padding:12px 24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:bold;font-size:1rem;transition:transform 0.3s}
.btn:hover{transform:scale(1.05)}
#main{display:none}
#main.active{display:block}
nav{background:rgba(0,0,0,.8);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom:2px solid #8F63E9}
.logo{font-size:1.8rem;font-weight:bold;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.nav-btn{background:transparent;color:#fff;border:2px solid transparent;padding:8px 16px;cursor:pointer;font-weight:bold;border-radius:6px;transition:all 0.3s}
.nav-btn:hover,.nav-btn.active{border-color:#8F63E9;color:#8F63E9}
.container{padding:2rem;max-width:1200px;margin:0 auto}
.page{display:none}
.page.active{display:block}
.header{margin-bottom:2rem;border-bottom:2px solid #8F63E9;padding-bottom:1rem}
.header h1{font-size:2rem}
.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:2rem}
.stat{background:rgba(143,99,233,.1);padding:1.5rem;border-radius:12px;border-left:4px solid #8F63E9;text-align:center}
.stat-label{color:#b0b0b0;font-size:.9rem;margin-bottom:.5rem}
.stat-val{font-size:2rem;font-weight:bold;color:#8F63E9}
.gen-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem}
.panel{background:rgba(143,99,233,.1);padding:1.5rem;border-radius:12px;border-left:4px solid #8F63E9;margin-bottom:2rem}
.panel h2{margin-bottom:1rem;color:#8F63E9}
.form-group{margin-bottom:1rem}
.form-group label{display:block;margin-bottom:.5rem;font-weight:bold}
.form-group input,.form-group select{width:100%;padding:10px;border:2px solid #8F63E9;border-radius:8px;background:rgba(0,0,0,.3);color:#fff;font-weight:bold}
.form-group select{cursor:pointer}
.trend{background:rgba(0,0,0,.3);padding:1rem;margin:10px 0;border-radius:8px;cursor:pointer;transition:background 0.3s}
.trend:hover{background:rgba(143,99,233,.3)}
.script-card{background:rgba(143,99,233,.1);padding:1.5rem;border-radius:12px;margin:1rem 0;border-left:4px solid #8F63E9}
.metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin:1rem 0}
.metric{background:rgba(0,0,0,.3);padding:10px;border-radius:8px;text-align:center}
.metric-label{font-size:.8rem;color:#b0b0b0}
.metric-val{font-size:1.5rem;font-weight:bold;color:#8F63E9}
#results{margin-top:2rem}
.control-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:20px}
</style>
</head>
<body>
<div id="auth">
<div class="box">
<h1>âš¡ DreamFlow</h1>
<input type="email" id="email" placeholder="Email" value="test@example.com">
<input type="password" id="pass" placeholder="Password" value="123456">
<button class="btn" onclick="login()">ğŸš€ Login</button>
</div>
</div>
<div id="main">
<nav>
<div class="logo">âš¡ DreamFlow</div>
<div>
<button class="nav-btn active" onclick="showPage('dash')">ğŸ“Š Dashboard</button>
<button class="nav-btn" onclick="showPage('gen')">âœ¨ Generator</button>
<button class="nav-btn" onclick="showPage('ana')">ğŸ“ˆ Analytics</button>
</div>
<button class="btn" style="width:auto;padding:0.5rem 1rem" onclick="logout()">Logout</button>
</nav>
<div class="container">
<div id="dash" class="page active">
<div class="header"><h1>ğŸ“Š Dashboard</h1></div>
<div class="stats">
<div class="stat"><div class="stat-label">Scripts Generated</div><div class="stat-val" id="total">0</div></div>
<div class="stat"><div class="stat-label">Avg Score</div><div class="stat-val" id="avg">--</div></div>
<div class="stat"><div class="stat-label">Total Views</div><div class="stat-val" id="views">0K</div></div>
<div class="stat"><div class="stat-label">Status</div><div class="stat-val" style="color:#4ADE80">Premium</div></div>
</div>
</div>
<div id="gen" class="page">
<div class="header"><h1>âœ¨ Script Generator</h1></div>
<div class="gen-grid">
<div class="panel">
<h2>ğŸ“ Create Scripts</h2>
<div class="control-grid">
<div class="form-group">
<label>ğŸ“± Network</label>
<select id="network">
<option value="tiktok">TikTok</option>
<option value="instagram">Instagram Reels</option>
<option value="youtube">YouTube Shorts</option>
<option value="facebook">Facebook</option>
</select>
</div>
<div class="form-group">
<label>ğŸŒ Language</label>
<select id="language">
<option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
<option value="en">ğŸ‡¬ğŸ‡§ English</option>
<option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
<option value="it">ğŸ‡®ğŸ‡¹ Italiano</option>
</select>
</div>
<div class="form-group">
<label>ğŸ“Š Count</label>
<select id="count">
<option value="1">1 Script</option>
<option value="3">3 Scripts</option>
<option value="5" selected>5 Scripts</option>
</select>
</div>
</div>
<button class="btn" onclick="generateScripts()" style="width:100%">ğŸš€ Generate Scripts</button>
<div id="results"></div>
</div>
<div class="panel">
<h2>ğŸ“Š Trends</h2>
<div class="trend" onclick="setNetwork('tiktok')">
<div style="color:#8F63E9;font-weight:700">ğŸµ TikTok</div>
<div style="color:#b0b0b0;font-size:.9rem">2.4M daily creators</div>
</div>
<div class="trend" onclick="setNetwork('instagram')">
<div style="color:#8F63E9;font-weight:700">ğŸ“± Instagram Reels</div>
<div style="color:#b0b0b0;font-size:.9rem">5.2M daily creators</div>
</div>
<div class="trend" onclick="setNetwork('youtube')">
<div style="color:#8F63E9;font-weight:700">ğŸ¬ YouTube Shorts</div>
<div style="color:#b0b0b0;font-size:.9rem">3.8M daily creators</div>
</div>
<div class="trend" onclick="setNetwork('facebook')">
<div style="color:#8F63E9;font-weight:700">ğŸ‘¥ Facebook</div>
<div style="color:#b0b0b0;font-size:.9rem">1.8M daily creators</div>
</div>
</div>
</div>
</div>
<div id="ana" class="page">
<div class="header"><h1>ğŸ“ˆ Analytics</h1></div>
<div class="panel">
<h2>ğŸ“Š Your Stats</h2>
<p>Coming soon...</p>
</div>
</div>
</div>
</div>

<script>
const API_URL = 'https://dreamflow-api.onrender.com';

function login() {
  const email = document.getElementById('email').value;
  if (email) {
    document.getElementById('auth').style.display = 'none';
    document.getElementById('main').classList.add('active');
  }
}

function logout() {
  document.getElementById('auth').style.display = 'flex';
  document.getElementById('main').classList.remove('active');
}

function showPage(page) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(page).classList.add('active');
  event.target.classList.add('active');
}

async function generateScripts() {
  const network = document.getElementById('network').value;
  const language = document.getElementById('language').value;
  const count = document.getElementById('count').value;
  
  const resultsDiv = document.getElementById('results');
  resultsDiv.innerHTML = '<p>â³ GÃ©nÃ©ration en cours...</p>';
  
  try {
    const response = await fetch(`${API_URL}/api/generate`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ network, language, count, topic: 'trending' })
    });
    
    const data = await response.json();
    
    if (data.success) {
      let html = `<h3>âœ… ${data.scripts.length} scripts gÃ©nÃ©rÃ©s!</h3>`;
      data.scripts.forEach(script => {
        html += `
          <div class="script-card">
            <h4>${script.title}</h4>
            <p>${script.content}</p>
            <div class="metrics">
              <div class="metric">
                <div class="metric-label">Network</div>
                <div class="metric-val">${network.toUpperCase()}</div>
              </div>
              <div class="metric">
                <div class="metric-label">Language</div>
                <div class="metric-val">${language.toUpperCase()}</div>
              </div>
              <div class="metric">
                <div class="metric-label">Model</div>
                <div class="metric-val">${data.model}</div>
              </div>
            </div>
          </div>
        `;
      });
      resultsDiv.innerHTML = html;
    } else {
      resultsDiv.innerHTML = `<p style="color:red">âŒ Erreur: ${data.error}</p>`;
    }
  } catch (error) {
    resultsDiv.innerHTML = `<p style="color:red">âŒ Erreur: ${error.message}</p>`;
  }
}

function setNetwork(net) {
  document.getElementById('network').value = net;
}
</script>
</body>
</html>
